<widget-modal widget-modal-title="Configure Build Widget" class="build-config">
   <!-- {{buildConfig}} -->
   <!-- Form selector -->
   <form action="" class="text-center">
      <label><input type="radio" name="build-opt" value="list" ng-model="formType" id="build-select" ng-checked="true">Select build from list</label>
      <label><input type="radio" name="build-opt" value="add" ng-model="formType" id="build-add"> Add new build folder location</label>
   </form>

    <br>
   <!-- Drop down form -->
    <form name="buildConfigForm" id="buildConfigForm" role="form" class="build-config-form" ng-submit="buildConfig.submit(buildConfigForm.$valid)" novalidate="novalidate" ng-hide="formType == 'add'">

        <form-group input="collectorItemId" errors="{required: 'Please select a collector'}">

          <table>
              <th class="search-filter">Search: <input type="text" ng-model="search" class="weak"></th>
              <th class="dropdown-filter">Sort by:
                <select ng-model="sortBy">
                  <option value="name">
                    Job
                  </option>
                  <option value="location">
                    Folder
                  </option>
                  <option value="collector">
                    Collector
                  </option>
                </select>
              </th>
          </table>

          <br>

          <table>
            <th class="job-header">Job</th>
            <th class="location-header">Folder</th>
            <th class="collector-header">Collector</th>
          </table>
          <table id="build-table" class="table-striped table-hover table-responsive">
            <tbody>
              <tr ng-repeat="item in buildConfig.buildJobs | filter: search | orderBy: [sortBy, 'name']" ng-click="setItem(item)" ng-style="setSelectedItem(item)">
                <td class="job-column">
                  {{item.name}}
                </td>
                <td class="location-column">
                  {{item.location}}
                </td>
                <td class="collector-column">
                  {{item.collector}}
                </td>
              </tr>
            </tbody>
          </table>

            <!-- <select name="collectorItemId"
                    class="form-control"
                    ng-model="buildConfig.collectorItemId"
                    ng-options="item.name for item in buildConfig.buildJobs | orderBy: 'name' track by item.value"
                    ng-disabled="buildConfig.toolsDropdownDisabled"
                    required>
                <option value="">{{buildConfig.toolsDropdownPlaceholder}}</option>

            </select> -->
        </form-group>
        <b>Selected Job:</b> <p class="selected-job">{{buildConfig.itemName}}</p>

        <input name="collectorItemId" type="text" ng-value="buildConfig.collectorItemId" ng-model="buildConfig.collectorItemId" style="display:none">

        <hr/>

        <form-group class="text-center" input="buildDurationThreshold" errors="{required:'Build threshold is required', pattern: 'Please enter a number'}">
            <label class="modal-label">Build duration threshold</label>
            <input
                type="text"
                name="buildDurationThreshold"
                class="form-control-inline text-center"
                ng-model="buildConfig.buildDurationThreshold"
                size="3"
                minlength="1"
                maxlength="3"
                pattern="\d*\.?\d*"
                required>&nbsp;&nbsp;&nbsp;minutes
        </form-group>

        <hr/>

        <form-group input="buildConsecutiveFailureThreshold" class="text-center" errors="{required:'Takeover criteria is required', pattern:'Please enter a number'}">
            <label class="modal-label">Alert takeover criteria:</label>
            <input
                type="text"
                name="buildConsecutiveFailureThreshold"
                class="form-control-inline text-center"
                ng-model="buildConfig.buildConsecutiveFailureThreshold"
                size="1"
                minlength="1"
                maxlength="3"
                pattern="\d*\.?\d*"
                required>&nbsp;&nbsp;&nbsp;consecutive build fails
        </form-group>

        <div class="button-row row text-center">
            <button type="submit" class="btn btn-primary btn-wide">Save</button>
        </div>
    </form>
    <!-- End Drop Down Form -->

    <!-- URL Form -->
    <form name="buildConfigFormURL" id="buildConfigFormURL" role="form" class="build-URL-config-form" ng-submit="buildConfig.submitUrl(buildConfigFormURL.$valid)" novalidate="novalidate" ng-show="formType == 'add'">
        <form-group class="text-center" input="buildServerUrl" errors="{required: 'Please add a collector url'}">
           <hr/>
           <label class="modal-label">Location of Build</label>
           <input
            type="text"
            name="buildServerUrl" ng-model="buildConfig.serverUrl" placeholder="https://jenkinsnode.com/job/jobfolder/job/jobfolder"
            id="job-url-input"
            ng-minlength="6"
            ng-pattern="/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(:[0-9]+)?|(?:ww‌​w.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?‌​(?:[\w]*))?)/"
            ng-required="true"
            >

        </form-group>
        <div class="button-row row text-center">
            <button type="submit" class="btn btn-primary btn-wide">Save</button>
        </div>
    </form>
    <!-- End URL Form -->

</widget-modal>
